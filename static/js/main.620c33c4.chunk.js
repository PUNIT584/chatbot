(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},31:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(23),c=a.n(n),l=(a(31),a(32),a(15)),i=a(4),s=a(38),d=a(24),p=a(10),u=a(11);const g=Object(d.a)({apiKey:"AIzaSyD-o3-RoXE8QBOhxWAti5zNavhbC64D02E",authDomain:"chatgpt-app-bf682.firebaseapp.com",projectId:"chatgpt-app-bf682",storageBucket:"chatgpt-app-bf682.appspot.com",messagingSenderId:"108494971572",appId:"1:108494971572:web:5206df2579166a966dade1",measurementId:"G-YD2X1B58MG"}),m=Object(p.b)(g),b=Object(u.c)(g);var x=()=>{const[e,t]=Object(r.useState)(null),[a,n]=Object(r.useState)(""),[c,l]=Object(r.useState)([]),[d,g]=Object(r.useState)(null),x=Object(i.p)(),[y,f]=Object(r.useState)(!1);Object(r.useEffect)(()=>{const e=Object(p.c)(m,e=>{t(e),e?h(e.uid):l([])});return()=>e()},[]);const h=async e=>{try{const a=Object(u.a)(b,"chats",e),r=await Object(u.b)(a);r.exists()&&l(r.data().messages)}catch(t){console.error("Error loading chat history:",t),g("Failed to load chat history.")}},E={padding:"8px 12px",fontSize:"0.9rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.3s"},O="#c82333",C={marginBottom:"15px",display:"flex",flexDirection:"column"},w={alignSelf:"flex-end",backgroundColor:"#007BFF",color:"white",padding:"10px 15px",borderRadius:"20px 20px 0 20px",maxWidth:"70%",wordBreak:"break-word"},S={alignSelf:"flex-start",backgroundColor:"#e9ecef",color:"#212529",padding:"10px 15px",borderRadius:"20px 20px 20px 0",maxWidth:"70%",wordBreak:"break-word"},k={padding:"10px 20px",fontSize:"1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"20px",cursor:"pointer",transition:"background-color 0.3s"},v="#218838",j={padding:"8px 12px",fontSize:"0.9rem",backgroundColor:"#ffc107",color:"#212529",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px",transition:"background-color 0.3s"},B="#e0a800";return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:"#f5f5f5"}},o.a.createElement("div",{style:{padding:"20px",backgroundColor:"#007BFF",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"0 0 10px 10px"}},o.a.createElement("h2",{style:{margin:0,fontSize:"1.5rem"}},"ChatBot"),e&&o.a.createElement("div",null,o.a.createElement("span",{style:{marginRight:"15px",fontSize:"0.9rem"}},"Logged in as : ",e.email),o.a.createElement("button",{onClick:async()=>{if(window.confirm("Are you sure you want to log out?")){f(!0);try{await Object(p.e)(m),x("/login")}catch(e){console.error("Error signing out: ",e),g("Failed to log out. Please try again.")}finally{f(!1)}}},"aria-label":"Log Out",style:E,onMouseOver:e=>e.target.style.backgroundColor=O,onMouseOut:e=>e.target.style.backgroundColor=E.backgroundColor,disabled:y},y?"Logging Out...":"Log Out"))),o.a.createElement("div",{style:{flex:1,padding:"20px",overflowY:"auto",backgroundColor:"#ffffff",borderRadius:"10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",margin:"20px"}},0===c.length&&o.a.createElement("p",{style:{textAlign:"center",color:"#6c757d"}},"Start chatting by typing a message below!"),c.map((e,t)=>o.a.createElement("div",{key:t,style:C},o.a.createElement("div",{style:"user"===e.role?w:S},e.content)))),o.a.createElement("div",{style:{display:"flex",padding:"20px",backgroundColor:"#ffffff",borderRadius:"10px",boxShadow:"0 -4px 6px rgba(0, 0, 0, 0.1)",margin:"0 20px 20px 20px"}},o.a.createElement("input",{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"Type your message...",style:{flex:1,padding:"10px 15px",fontSize:"1rem",border:"1px solid #ccc",borderRadius:"20px",marginRight:"10px",outline:"none",transition:"border-color 0.3s"},onFocus:e=>e.target.style.borderColor="#80bdff",onBlur:e=>e.target.style.borderColor="#ccc"}),o.a.createElement("button",{onClick:async()=>{if(!e)return void g("You must be logged in to send messages.");if(""===a.trim())return;const t={method:"POST",url:"https://chatgpt-42.p.rapidapi.com/chatgpt",headers:{"x-rapidapi-key":"06fc124a98msh7aa1dbf60cea01ap191725jsnabce158980ac","x-rapidapi-host":"chatgpt-42.p.rapidapi.com","Content-Type":"application/json"},data:{messages:[{role:"user",content:a}],web_access:!1}};try{const r=(await s.a.request(t)).data.result,o=[...c,{role:"user",content:a},{role:"assistant",content:r}];l(o),n(""),(async(e,t)=>{try{const r=Object(u.a)(b,"chats",e);await Object(u.d)(r,{messages:t},{merge:!0})}catch(a){console.error("Error saving chat history:",a),g("Failed to save chat history.")}})(e.uid,o)}catch(d){g("Error fetching data"),console.error(d)}},style:k,onMouseOver:e=>e.target.style.backgroundColor=v,onMouseOut:e=>e.target.style.backgroundColor=k.backgroundColor},"Send")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"}},o.a.createElement("button",{onClick:async()=>{if(e)try{l([]);const a=Object(u.a)(b,"chats",e.uid);await Object(u.d)(a,{messages:[]},{merge:!0})}catch(t){console.error("Error clearing chat history:",t),g("Failed to clear chat history.")}},style:j,onMouseOver:e=>e.target.style.backgroundColor=B,onMouseOut:e=>e.target.style.backgroundColor=j.backgroundColor},"Clear Chat History")),d&&o.a.createElement("p",{style:{color:"#dc3545",textAlign:"center",marginTop:"10px"}},d))};var y=()=>{const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)(""),[c,l]=Object(r.useState)(""),s=Object(i.p)();return o.a.createElement("div",{style:{padding:"20px",maxWidth:"400px",margin:"0 auto",fontFamily:"Arial, sans-serif",backgroundColor:"#f7f7f7",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center"}},o.a.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"20px"}},"Log In"),c&&o.a.createElement("p",{style:{color:"red",marginBottom:"10px"}},c),o.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await Object(p.d)(m,e,a),s("/")}catch(r){l(r.message)}}},o.a.createElement("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"}}),o.a.createElement("input",{type:"password",placeholder:"Password",value:a,onChange:e=>n(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"}}),o.a.createElement("button",{type:"submit",style:{padding:"10px 0",width:"100%",backgroundColor:"#007BFF",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#0056b3",onMouseOut:e=>e.target.style.backgroundColor="#007BFF"},"Log In")),o.a.createElement("p",{style:{marginTop:"15px"}},"Don't have an account? ",o.a.createElement("a",{href:"/signup",style:{color:"#007BFF",textDecoration:"none"}},"Sign Up")))};var f=()=>{const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)(""),[c,l]=Object(r.useState)(""),s=Object(i.p)();return o.a.createElement("div",{style:{padding:"20px",maxWidth:"400px",margin:"0 auto",fontFamily:"Arial, sans-serif",backgroundColor:"#f7f7f7",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center"}},o.a.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"20px"}},"Sign Up"),c&&o.a.createElement("p",{style:{color:"red",marginBottom:"10px"}},c),o.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await Object(p.a)(m,e,a),s("/")}catch(r){l(r.message)}}},o.a.createElement("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"}}),o.a.createElement("input",{type:"password",placeholder:"Password",value:a,onChange:e=>n(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem"}}),o.a.createElement("button",{type:"submit",style:{padding:"10px 0",width:"100%",backgroundColor:"#28A745",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#218838",onMouseOut:e=>e.target.style.backgroundColor="#28A745"},"Sign Up")),o.a.createElement("p",{style:{marginTop:"15px"}},"Already have an account? ",o.a.createElement("a",{href:"/login",style:{color:"#007BFF",textDecoration:"none"}},"Log In")))};var h=e=>{let{children:t}=e;const[a,n]=Object(r.useState)(null),[c,l]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{const e=Object(p.c)(m,e=>{n(e),l(!1)});return()=>e()},[]),c?o.a.createElement("div",null,"Loading..."):a?t:o.a.createElement(i.a,{to:"/login"})};var E=function(){return o.a.createElement(l.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/login",element:o.a.createElement(y,null)}),o.a.createElement(i.b,{path:"/signup",element:o.a.createElement(f,null)}),o.a.createElement(i.b,{path:"/",element:o.a.createElement(h,null,o.a.createElement(x,null))})))};var O=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then(t=>{let{getCLS:a,getFID:r,getFCP:o,getLCP:n,getTTFB:c}=t;a(e),r(e),o(e),n(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null))),O()}},[[25,1,2]]]);
//# sourceMappingURL=main.620c33c4.chunk.js.map